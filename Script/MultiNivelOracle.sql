/* ---------------------------------------------------- */
/*  Generated by Enterprise Architect Version 13.5 		*/
/*  Created On : 28-sep.-2019 3:14:09 				*/
/*  DBMS       : Oracle 						*/
/* ---------------------------------------------------- */

/* Create Tables */

CREATE TABLE  Categoria
(
	PK_N_IDCATEGORIA NUMBER(8) NOT NULL,
	V_NOMBRECATEGORIA VARCHAR2(50) NOT NULL,
	N_IVA NUMBER(2,2) NOT NULL
)
;

CREATE TABLE  Cliente
(
	PK_N_CEDULA NUMBER(12) NOT NULL,
	V_NOMBRECLIENTE VARCHAR2(50) NOT NULL,
	V_APELLIDOCLIENTE VARCHAR2(50) NOT NULL,
	V_TELEFONO VARCHAR2(50) NOT NULL,
	V_DIRECCION VARCHAR2(50) NOT NULL,
	V_CIUDAD VARCHAR2(50) NOT NULL,
	V_CORREOELECTRONICO VARCHAR2(50) NULL
)
;

CREATE TABLE  ModoDePago
(
	PK_N_IDMODODEPAGO NUMBER(8) NOT NULL,
	V_NOMBREMODODEPAGO VARCHAR2(20) NOT NULL
)
;

CREATE TABLE  Pais
(
	PK_N_IDPAIS NUMBER(8) NOT NULL,
	V_NOMBREPAIS VARCHAR2(50) NOT NULL
)
;

CREATE TABLE  Pedido
(
	PK_N_IDPEDIDO NUMBER(8) NOT NULL,
	V_ESTADOPEDIDO VARCHAR2(10) NOT NULL,
	V_CALIFICACION VARCHAR2(50) NULL,
	D_FECHAPEDIDO VARCHAR2(50) NULL,
	FK_N_IDMODODEPAGO NUMBER(8) NOT NULL,
	FK_N_CEDULA NUMBER(12) NULL
)
;

CREATE TABLE  Producto
(
	PK_N_IDPRODUCTO NUMBER(8) NOT NULL,
	V_NOMBREPRODUCTO VARCHAR2(50) NOT NULL
)
;

CREATE TABLE  Producto_Region
(
	PK_N_IDPRODUCTOREGION NUMBER(8) NOT NULL,
	N_PRECIO NUMBER(8,2) NOT NULL,
	FK_N_IDREGION NUMBER(8) NOT NULL,
	FK_N_IDPRODUCTO NUMBER(8) NOT NULL,
	N_CANTIDAD NUMBER(8,2) NOT NULL
)
;

CREATE TABLE  Producto_Subcategoria
(
	PK_N_ID NUMBER(8) NOT NULL,
	D_FECHACLASIFICACION VARCHAR2(50) NULL,
	PK_N_IDPRODUCTO NUMBER(8) NULL,
	FK_N_IDSUBCATEGORIA NUMBER(8) NULL
)
;

CREATE TABLE  ProductoRegion_Pedido
(
	PK_N_IDDETALLE NUMBER(8) NOT NULL,
	N_CANTIDAD NUMBER(8) NOT NULL,
	FK_N_IDPEDIDO NUMBER(8) NOT NULL,
	FK_N_IDPRODUCTOREGION NUMBER(8) NULL
)
;

CREATE TABLE  Region
(
	PK_N_IDREGION NUMBER(8) NOT NULL,
	V_NOMBREREGION VARCHAR2(50) NOT NULL,
	FK_N_IDPAIS NUMBER(8) NULL
)
;

CREATE TABLE  RepresentanteVentas
(
	PK_N_IDENTIFICACION NUMBER(12) NOT NULL,
	V_NOMBRE VARCHAR2(50) NOT NULL,
	V_CORREOELECTRONICO VARCHAR2(50) NULL,
	V_GENERO VARCHAR2(1) NOT NULL,
	D_FECHANACIMIENTO DATE NOT NULL,
	D_FECHACONTRATO DATE NOT NULL,
	V_TELEFONOCONTACTO VARCHAR2(12) NOT NULL,
	V_DIRECCION VARCHAR2(30) NOT NULL,
	V_ESDIRECTOR VARCHAR2(1) NOT NULL,
	V_GRADO VARCHAR(15) NOT NULL,
	FK_N_IDREGION NUMBER(8) NULL
)
;

CREATE TABLE  RepresentanteVentas_Cliente
(
	D_FECHAINICIO DATE NOT NULL,
	D_FECHAFIN DATE NULL,
	PK_N_ID NUMBER(10) NOT NULL,
	FK_N_CEDULA NUMBER(12) NULL,
	FK_N_IDENTIFICACION NUMBER(12) NULL
)
;

CREATE TABLE  Subcategoria
(
	PK_N_IDSUBCATEGORIA NUMBER(8) NOT NULL,
	V_NOMBRESUBCATEGORIA VARCHAR2(50) NOT NULL,
	V_DESCRIPCIONSUBCATEGORIA VARCHAR2(50) NULL,
	FK_N_IDCATEGORIA NUMBER(8) NULL
)
;

/* Create Primary Keys, Indexes, Uniques, Checks, Triggers */

ALTER TABLE  Categoria 
 ADD CONSTRAINT PK_CATEOGORIA
	PRIMARY KEY (PK_N_IDCATEGORIA)
;

ALTER TABLE  Cliente 
 ADD CONSTRAINT PK_CLIENTE
	PRIMARY KEY (PK_N_CEDULA)
;

ALTER TABLE  ModoDePago 
 ADD CONSTRAINT PK_ModoDePago
	PRIMARY KEY (PK_N_IDMODODEPAGO) 
;

ALTER TABLE  Pais 
 ADD CONSTRAINT PK_ID
	PRIMARY KEY (PK_N_IDPAIS) 
;

ALTER TABLE  Pedido 
 ADD CONSTRAINT PK_PEDIDO
	PRIMARY KEY (PK_N_IDPEDIDO) 
;

ALTER TABLE  Producto 
 ADD CONSTRAINT PK_PRODUCTO
	PRIMARY KEY (PK_N_IDPRODUCTO) 
;

ALTER TABLE  Producto_Region 
 ADD CONSTRAINT PK_PRODUCTO_REGION
	PRIMARY KEY (PK_N_IDPRODUCTOREGION) 
;

ALTER TABLE  Producto_Subcategoria 
 ADD CONSTRAINT PK_Producto_Subcategoria
	PRIMARY KEY (PK_N_ID) 
;

ALTER TABLE  ProductoRegion_Pedido 
 ADD CONSTRAINT PK_Producto_pedido
	PRIMARY KEY (PK_N_IDDETALLE) 
;

ALTER TABLE  Region 
 ADD CONSTRAINT PK_REGION
	PRIMARY KEY (PK_N_IDREGION) 
;

ALTER TABLE  RepresentanteVentas 
 ADD CONSTRAINT PK_IDENTIFICACION
	PRIMARY KEY (PK_N_IDENTIFICACION) 
;

ALTER TABLE  RepresentanteVentas_Cliente 
 ADD CONSTRAINT PK_REPRESENTANTEVENTAS_CLIENTE
	PRIMARY KEY (PK_N_ID) 
;

ALTER TABLE  Subcategoria 
 ADD CONSTRAINT PK_SUBCATEGORIA
	PRIMARY KEY (PK_N_IDSUBCATEGORIA) 
;

/* Create Foreign Key Constraints */

ALTER TABLE  Pedido 
 ADD CONSTRAINT FK_Pedido_Cliente
	FOREIGN KEY (FK_N_CEDULA) REFERENCES  Cliente (PK_N_CEDULA)
;

ALTER TABLE  Pedido 
	ADD CONSTRAINT FK_Pedido_ModoDePago
		FOREIGN KEY (FK_N_IDMODODEPAGO) REFERENCES  ModoDePago (PK_N_IDMODODEPAGO)
;

ALTER TABLE  Producto_Region 
	ADD CONSTRAINT FK_ProductoRegion_Region
		FOREIGN KEY (FK_N_IDREGION) REFERENCES  Region (PK_N_IDREGION)
;

ALTER TABLE  Producto_Subcategoria 
	ADD CONSTRAINT FK_ProductoSub_Subcategoria
		FOREIGN KEY (FK_N_IDSUBCATEGORIA) REFERENCES  Subcategoria (PK_N_IDSUBCATEGORIA)
;

ALTER TABLE  Producto_Subcategoria 
	ADD CONSTRAINT FK_Producto_SubcatProducto
		FOREIGN KEY (PK_N_IDPRODUCTO) REFERENCES  Producto (PK_N_IDPRODUCTO)
;

ALTER TABLE  ProductoRegion_Pedido 
	ADD CONSTRAINT FK_ProductoR_PedidoProducto
		FOREIGN KEY (FK_N_IDPRODUCTOREGION) REFERENCES  Producto_Region (PK_N_IDPRODUCTOREGION)
;

ALTER TABLE  ProductoRegion_Pedido 
	ADD CONSTRAINT FK_ProductoPedido_Pedido
		FOREIGN KEY (FK_N_IDPEDIDO) REFERENCES  Pedido (PK_N_IDPEDIDO)
;

ALTER TABLE  RepresentanteVentas_Cliente 
	ADD CONSTRAINT FK_RepresV_RepresentanVC
		FOREIGN KEY (FK_N_IDENTIFICACION) REFERENCES  RepresentanteVentas (PK_N_IDENTIFICACION)
;

ALTER TABLE  RepresentanteVentas_Cliente 
	ADD CONSTRAINT FK_RepreVC_Cliente
		FOREIGN KEY (FK_N_CEDULA) REFERENCES  Cliente (PK_N_CEDULA)
;
ALTER TABLE RepresentanteVentas
	ADD CONSTRAINT FK_RepresentanteVen_Region
		FOREIGN KEY (FK_N_IDREGION) REFERENCES Region(PK_N_IDREGION)
;
ALTER TABLE Region
	ADD CONSTRAINT FK_Region_Pais 
		FOREIGN KEY (FK_N_IDPAIS) REFERENCES Pais(PK_N_IDPAIS)
;
ALTER TABLE Subcategoria
	ADD CONSTRAINT FK_Subcategoria_Categoria
		FOREIGN KEY (FK_N_IDCATEGORIA) REFERENCES Categoria(PK_N_IDCATEGORIA)
;

